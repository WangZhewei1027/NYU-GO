"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[163],{3163:(e,t,a)=>{a.r(t),a.d(t,{default:()=>C});var l=a(5155),s=a(2115),n=a(4461),r=a(6688),i=a(648),o=a(5683),d=a(8008);let c=JSON.parse('[{"date":"2025-08-23","version":"1.0.0","content":["Initial release of the application."]},{"date":"2024-12-14","version":"0.0.0","content":["We write the first line of code."]}]');function u(e){let{open:t,onClose:a}=e,n=(0,s.useRef)(null);return(0,s.useEffect)(()=>{if(!t)return;let e=document.body.style.overflow,a=document.documentElement.style.overflow;return document.body.style.overflow="hidden",document.documentElement.style.overflow="hidden",()=>{document.body.style.overflow=e,document.documentElement.style.overflow=a}},[t]),(0,s.useEffect)(()=>{if(!t)return;let e=window.setTimeout(()=>{var e;null===(e=n.current)||void 0===e||e.focus()},0);return()=>window.clearTimeout(e)},[t]),(0,s.useEffect)(()=>{if(!t)return;let e=n.current;if(e)return e.addEventListener("keydown",a),()=>e.removeEventListener("keydown",a);function a(t){if("Tab"!==t.key||!e)return;let a=Array.from(e.querySelectorAll('a[href],button:not([disabled]),textarea:not([disabled]),input:not([disabled]),select:not([disabled]),[tabindex]:not([tabindex="-1"])'));if(0===a.length)return;let l=a[0],s=a[a.length-1];t.shiftKey?document.activeElement===l&&(t.preventDefault(),s.focus()):document.activeElement===s&&(t.preventDefault(),l.focus())}},[t]),(0,l.jsx)(o.N,{children:t&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(d.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 bg-black/40 z-40",onClick:a},"overlay"),(0,l.jsxs)(d.P.aside,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",stiffness:300,damping:35},className:"fixed top-0 right-0 h-full w-[100vw] max-w-md bg-white shadow-xl z-50 flex flex-col overscroll-contain",role:"dialog","aria-label":"Update Log Sidebar","aria-modal":"true",ref:n,tabIndex:-1,children:[(0,l.jsxs)("div",{className:"flex items-center justify-between p-4 border-b",children:[(0,l.jsx)("h2",{className:"text-xl font-bold",children:"Update Log"}),(0,l.jsx)("button",{type:"button",className:"text-gray-500 hover:text-gray-800 text-2xl leading-none",onClick:a,"aria-label":"Close",children:"\xd7"})]}),(0,l.jsx)("div",{className:"p-4 overflow-y-auto flex-1",children:c.length>0?(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)("div",{className:"absolute left-3 top-0 bottom-0 w-px bg-gray-200"}),(0,l.jsx)("ul",{className:"space-y-6",children:c.sort((e,t)=>new Date(t.date).getTime()-new Date(e.date).getTime()).map((e,t)=>(0,l.jsxs)("li",{className:"relative pl-10",children:[(0,l.jsx)("span",{className:"absolute left-0 top-1.5 h-6 w-6 rounded-full bg-white ring-2 ring-[#1DADAF] flex items-center justify-center",children:(0,l.jsx)("span",{className:"h-2.5 w-2.5 rounded-full bg-[#4cb5b7]"})}),(0,l.jsxs)("div",{className:"rounded-lg border border-gray-200 bg-white shadow-sm hover:shadow-md transition-shadow",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between p-3 border-b",children:[(0,l.jsx)("div",{className:"flex items-center gap-2",children:(0,l.jsxs)("span",{className:"inline-flex items-center rounded-md border px-2 py-0.5 text-xs font-semibold",children:["v",e.version]})}),(0,l.jsx)("time",{className:"text-xs text-gray-500",children:e.date})]}),(0,l.jsx)("ul",{className:"p-4 list-disc list-inside space-y-1 text-gray-700 text-sm",children:e.content.map((e,t)=>(0,l.jsx)("li",{children:e},t))})]})]},t))})]}):(0,l.jsx)("div",{className:"text-gray-600",children:"No updates yet."})})]},"sidebar")]})})}var m=a(2818);function x(e){var t,a;let{open:n,onClose:r}=e,i=(0,s.useRef)(null);return(0,s.useEffect)(()=>{if(!n)return;let e=document.body.style.overflow,t=document.documentElement.style.overflow;return document.body.style.overflow="hidden",document.documentElement.style.overflow="hidden",()=>{document.body.style.overflow=e,document.documentElement.style.overflow=t}},[n]),(0,s.useEffect)(()=>{if(!n)return;let e=window.setTimeout(()=>{var e,t;let a=null===(e=i.current)||void 0===e?void 0:e.querySelector('button[aria-label="Close"]');a?a.focus():null===(t=i.current)||void 0===t||t.focus()},0);return()=>window.clearTimeout(e)},[n]),(0,s.useEffect)(()=>{if(!n)return;let e=i.current;if(e)return e.addEventListener("keydown",t),()=>e.removeEventListener("keydown",t);function t(t){if("Escape"===t.key){t.preventDefault(),r();return}if("Tab"!==t.key||!e)return;let a=Array.from(e.querySelectorAll('a[href],button:not([disabled]),textarea:not([disabled]),input:not([disabled]),select:not([disabled]),[tabindex]:not([tabindex="-1"])'));if(0===a.length)return;let l=a[0],s=a[a.length-1];t.shiftKey?document.activeElement===l&&(t.preventDefault(),s.focus()):document.activeElement===s&&(t.preventDefault(),l.focus())}},[n,r]),(0,l.jsx)(o.N,{children:n&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(d.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 bg-black/40 z-40",onClick:r},"overlay"),(0,l.jsxs)(d.P.aside,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",stiffness:300,damping:35},className:"fixed top-0 right-0 h-full w-[100vw] max-w-md bg-white shadow-xl z-50 flex flex-col overscroll-contain",role:"dialog","aria-label":"About Sidebar","aria-modal":"true",ref:i,tabIndex:-1,children:[(0,l.jsxs)("div",{className:"sticky top-0 z-10 flex items-center justify-between p-4 border-b bg-white/80 backdrop-blur supports-[backdrop-filter]:bg-white/60",children:[(0,l.jsx)("h2",{className:"text-xl font-bold",children:"About"}),(0,l.jsx)("button",{type:"button",className:"text-gray-500 hover:text-gray-800 text-2xl leading-none",onClick:r,"aria-label":"Close",children:"\xd7"})]}),(0,l.jsx)("div",{className:"p-4 overflow-y-auto flex-1",children:(0,l.jsxs)("div",{className:"space-y-6 text-sm leading-6 text-gray-700 mt-6",children:[(0,l.jsxs)("section",{children:[(0,l.jsx)("h3",{className:"text-base font-semibold text-gray-900 mb-2",children:"About This App"}),(0,l.jsx)("p",{children:"This app provides real-time shuttle tracking and scheduling information for NYU students. Our goal is to enhance your campus experience by making shuttle information fast, reliable, and easy to access."})]}),(0,l.jsxs)("section",{children:[(0,l.jsx)("h3",{className:"text-base font-semibold text-gray-900 mb-2",children:"Features"}),(0,l.jsxs)("ul",{className:"list-disc pl-5 space-y-1 marker:text-gray-400",children:[(0,l.jsx)("li",{children:"Real-time shuttle tracking"}),(0,l.jsx)("li",{children:"Detailed route & stop information"}),(0,l.jsx)("li",{children:"Mobile-first, accessible UI"})]})]}),(0,l.jsxs)("section",{children:[(0,l.jsx)("h3",{className:"text-base font-semibold text-gray-900 mb-2",children:"Contact Us"}),(0,l.jsxs)("p",{children:["Have questions or feedback? Email us at"," ",(0,l.jsx)("a",{className:"text-[#1DADAF] hover:underline",href:"mailto:".concat(null!==(t=m.env.NEXT_PUBLIC_SUPPORT_EMAIL)&&void 0!==t?t:"zw3636@nyu.edu"),children:null!==(a=m.env.NEXT_PUBLIC_SUPPORT_EMAIL)&&void 0!==a?a:"zw3636@nyu.edu"}),"."]})]}),(0,l.jsxs)("section",{children:[(0,l.jsx)("h3",{className:"text-base font-semibold text-gray-900 mb-2",children:"Privacy"}),(0,l.jsxs)("p",{children:["We store minimal data in your browser (localStorage/cache) to improve performance. You can clear it anytime in"," ",(0,l.jsx)("strong",{children:"Settings → Developer → “Clear Local Data”"}),"."]})]}),(0,l.jsxs)("section",{children:[(0,l.jsx)("h3",{className:"text-base font-semibold text-gray-900 mb-2",children:"Credits"}),(0,l.jsxs)("p",{children:["This app was developed by"," ",(0,l.jsx)("span",{className:"font-medium",children:"David Zhewei Wang"})," (Full Stack Development) and"," ",(0,l.jsx)("span",{className:"font-medium",children:"Chanel Shuya Feng"})," ","(UI/UX Design)."]})]})]})})]},"sidebar")]})})}var f=a(3985),h=a(9602),b=a(4085);let p=f.bL,g=f.l9,v=f.ZL,y=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,l.jsx)(f.hJ,{className:(0,h.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...s,ref:t})});y.displayName=f.hJ.displayName;let j=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,l.jsxs)(v,{children:[(0,l.jsx)(y,{}),(0,l.jsx)(f.UC,{ref:t,className:(0,h.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...s})]})});j.displayName=f.UC.displayName;let w=e=>{let{className:t,...a}=e;return(0,l.jsx)("div",{className:(0,h.cn)("flex flex-col space-y-2 text-center sm:text-left",t),...a})};w.displayName="AlertDialogHeader";let N=e=>{let{className:t,...a}=e;return(0,l.jsx)("div",{className:(0,h.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...a})};N.displayName="AlertDialogFooter";let k=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,l.jsx)(f.hE,{ref:t,className:(0,h.cn)("text-lg font-semibold",a),...s})});k.displayName=f.hE.displayName;let D=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,l.jsx)(f.VY,{ref:t,className:(0,h.cn)("text-sm text-muted-foreground",a),...s})});D.displayName=f.VY.displayName;let A=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,l.jsx)(f.rc,{ref:t,className:(0,h.cn)((0,b.r)(),a),...s})});A.displayName=f.rc.displayName;let E=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,l.jsx)(f.ZD,{ref:t,className:(0,h.cn)((0,b.r)({variant:"outline"}),"mt-2 sm:mt-0",a),...s})});function C(){var e;let t=async()=>{if(localStorage.clear(),window.caches){let e=await caches.keys();await Promise.all(e.map(e=>caches.delete(e)))}window.location.reload()},a=(0,r.P)(e=>e.insets),[n,o]=(0,s.useState)(!1),[d,c]=(0,s.useState)(!1);return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{className:"bg-gray-50 p-4 h-screen overflow-y-auto",style:{marginTop:null!==(e=null==a?void 0:a.top)&&void 0!==e?e:0},children:[(0,l.jsx)("div",{className:"flex mb-6 items-center",children:(0,l.jsx)("h1",{className:"text-3xl font-bold",children:"Settings"})}),(0,l.jsx)(M,{}),(0,l.jsxs)("div",{className:"mt-6",children:[(0,l.jsx)("div",{className:"text-base text-gray-500 ml-4 mb-1",children:"Version"}),(0,l.jsxs)("button",{type:"button",onClick:()=>o(!0),className:"bg-white rounded-lg p-4 mb-4 text-lg w-full text-left font-semibold flex justify-between items-center focus:outline-none",children:[(0,l.jsx)("span",{children:"Update Log"}),(0,l.jsx)(i.ree,{className:"align-middle text-gray-500"})]})]}),(0,l.jsx)(u,{open:n,onClose:()=>o(!1)}),(0,l.jsx)("div",{className:"mt-6"}),(0,l.jsx)("div",{className:"text-base text-gray-500 ml-4 mb-1",children:"About"}),(0,l.jsxs)("button",{type:"button",onClick:()=>c(!0),className:"bg-white rounded-lg p-4 mb-4 text-lg w-full text-left font-semibold flex justify-between items-center focus:outline-none",children:[(0,l.jsx)("span",{children:"About This App"}),(0,l.jsx)(i.ree,{className:"align-middle text-gray-500"})]}),(0,l.jsx)(x,{open:d,onClose:()=>c(!1)}),(0,l.jsxs)("div",{className:"mt-6",children:[(0,l.jsx)("div",{className:"text-base text-gray-500 ml-4 mb-1",children:"Developer"}),(0,l.jsxs)(p,{children:[(0,l.jsx)(g,{className:"bg-white rounded-lg  p-4 mb-4 text-lg w-full text-[#1DADAF] text-left font-semibold",children:"Clear Local Data"}),(0,l.jsxs)(j,{className:"w-[70vw] rounded-lg",children:[(0,l.jsxs)(w,{children:[(0,l.jsx)(k,{children:"Clear Local Storage and Cache"}),(0,l.jsx)(D,{className:"text-left",children:"Are you sure you want to clear your local storage and cache? This action cannot be undone."})]}),(0,l.jsxs)(N,{children:[(0,l.jsx)(E,{children:"Cancel"}),(0,l.jsx)(A,{onClick:t,className:"bg-red-600 font-bold",children:"Clear"})]})]})]})]})]})})}function M(){let e=(0,r.P)(e=>e.setUnit),[t,a]=(0,s.useState)(null===localStorage.getItem("unit")||"metric"===localStorage.getItem("unit"));return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"text-base text-gray-500 ml-4 mb-1",children:"Unit"}),(0,l.jsx)("div",{className:"flex w-full px-6 py-11 bg-white rounded-t-lg items-center",children:(0,l.jsx)(n.A,{routeName:"S",progress:1.1})}),(0,l.jsxs)("div",{className:"w-full h-12 relative cursor-pointer select-none",onClick:()=>{let l=t?"imperial":"metric";e(l),a(!t),localStorage.setItem("unit",l)},children:[(0,l.jsx)("div",{className:"absolute inset-0 bg-white rounded-b-lg shadow-sm"}),(0,l.jsx)("div",{className:"absolute top-0 left-0 h-full w-1/2 bg-[#1DADAF] rounded-lg transition-transform duration-300",style:{transform:t?"translateX(0%)":"translateX(100%)"}}),(0,l.jsxs)("div",{className:"relative flex justify-around items-center h-full",children:[(0,l.jsx)("span",{className:"z-10 text-lg font-bold ".concat(t?"text-white":"text-[#1DADAF]"),children:"Metric"}),(0,l.jsx)("span",{className:"z-10 text-lg font-semibold ".concat(t?"text-[#1DADAF]":"text-white"),children:"Imperial"})]})]})]})}E.displayName=f.ZD.displayName},4461:(e,t,a)=>{a.d(t,{A:()=>c});var l=a(5155),s=a(9265),n=a(2115),r=a(6688),i=a(2364),o=a(2434),d=a(4389);function c(e){var t;let{routeName:a,progress:c,className:u}=e,m=(0,r.P)(e=>e.unit),x=c||function(e){let t=(0,r.P)(),[a,l]=(0,n.useState)(null);return(0,n.useEffect)(()=>{let a=function(e){let t=Object.values(i.Gb).find(t=>(0,o.A)(t.name,e));return t?{latitude:t.latitude,longitude:t.longitude}:(console.error("Stop ".concat(e," not found")),null)}(t.currentLocation);if(a){let s=function(e,a,l){let s=t.shuttleData;if(!s||Object.prototype.hasOwnProperty.call(s,"undefined"))return null;let n=1/0,r=null;return Object.entries(s).forEach(t=>{let[s,i]=t;if(i.route.toLowerCase()===e.toLowerCase()){let e=(0,d.$)(a,l,Number(i.latitude),Number(i.longitude));e<n&&(n=e,r={latitude:i.latitude,longitude:i.longitude})}}),r}("route "+e,a.latitude,a.longitude);s&&l(Number((0,d.$)(Number(s.latitude),Number(s.longitude),a.latitude,a.longitude)))}},[t.shuttleData,t.currentLocation,e]),a}(a),f=null===x?0:Math.min(100,Math.max(0,100*(1-Math.log1p(Math.max(0,Math.min(x,3)))/Math.log1p(3)))),h=Math.min(90,Math.max(15,f)),b=function(e,t){if(null===e)return null;if("imperial"===t){let t=.621371*e;if(t>1)return"".concat(t.toFixed(1)," mi");{let t=3280.84*e;return"".concat(t.toFixed(0)," ft")}}return e>1?"".concat(e.toFixed(1)," km"):"".concat((1e3*e).toFixed(0)," m")}(x,m);return(0,l.jsxs)("div",{className:"relative h-1 w-full rounded-full bg-gray-200 ".concat(u),children:[(0,l.jsx)("div",{className:"h-full rounded-full transition-all duration-1000",style:{width:"".concat(f,"%"),backgroundColor:(null===(t=s._L[a])||void 0===t?void 0:t.color)||"#1DADAF"}}),(0,l.jsx)("div",{className:"absolute text-gray-500 text-sm whitespace-nowrap animate-pulse",style:{left:"".concat(h,"%"),transform:"translateX(-50%)",bottom:"100%",marginBottom:"4px"},children:null===b?"":"".concat(b)})]})}},4389:(e,t,a)=>{a.d(t,{$:()=>l});function l(e,t,a,l){let s=(a-e)*Math.PI/180,n=(l-t)*Math.PI/180,r=Math.sin(s/2)*Math.sin(s/2)+Math.cos(e*Math.PI/180)*Math.cos(a*Math.PI/180)*Math.sin(n/2)*Math.sin(n/2);return 2*Math.atan2(Math.sqrt(r),Math.sqrt(1-r))*6371}},4085:(e,t,a)=>{a.d(t,{$:()=>d,r:()=>o});var l=a(5155),s=a(2115),n=a(4707),r=a(1027),i=a(9602);let o=(0,r.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),d=s.forwardRef((e,t)=>{let{className:a,variant:s,size:r,asChild:d=!1,...c}=e,u=d?n.DX:"button";return(0,l.jsx)(u,{className:(0,i.cn)(o({variant:s,size:r,className:a})),ref:t,...c})});d.displayName="Button"},9602:(e,t,a)=>{a.d(t,{cn:()=>n});var l=a(3463),s=a(9795);function n(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,s.QP)((0,l.$)(t))}}}]);