"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[59],{4059:(e,t,a)=>{a.r(t),a.d(t,{default:()=>X});var r=a(5155),l=a(2115),n=a(4461),s=a(6688),o=a(8166),i=a(5687),d=a(9927),c=a(3610);l.forwardRef((e,t)=>{let{children:a,...n}=e,s=l.Children.toArray(a),o=s.find(m);if(o){let e=o.props.children,a=s.map(t=>t!==o?t:l.Children.count(e)>1?l.Children.only(null):l.isValidElement(e)?e.props.children:null);return(0,r.jsx)(u,{...n,ref:t,children:l.isValidElement(e)?l.cloneElement(e,void 0,a):null})}return(0,r.jsx)(u,{...n,ref:t,children:a})}).displayName="Slot";var u=l.forwardRef((e,t)=>{let{children:a,...r}=e;if(l.isValidElement(a)){let e=function(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,a=t&&"isReactWarning"in t&&t.isReactWarning;return a?e.ref:(a=(t=Object.getOwnPropertyDescriptor(e,"ref")?.get)&&"isReactWarning"in t&&t.isReactWarning)?e.props.ref:e.props.ref||e.ref}(a),n=function(e,t){let a={...t};for(let r in t){let l=e[r],n=t[r];/^on[A-Z]/.test(r)?l&&n?a[r]=(...e)=>{n(...e),l(...e)}:l&&(a[r]=l):"style"===r?a[r]={...l,...n}:"className"===r&&(a[r]=[l,n].filter(Boolean).join(" "))}return{...e,...a}}(r,a.props);return a.type!==l.Fragment&&(n.ref=t?(0,i.t)(t,e):e),l.cloneElement(a,n)}return l.Children.count(a)>1?l.Children.only(null):null});u.displayName="SlotClone";var f=({children:e})=>(0,r.jsx)(r.Fragment,{children:e});function m(e){return l.isValidElement(e)&&e.type===f}var p="AlertDialog",[h,g]=(0,o.A)(p,[d.Hs]),x=(0,d.Hs)(),v=e=>{let{__scopeAlertDialog:t,...a}=e,l=x(t);return(0,r.jsx)(d.bL,{...l,...a,modal:!0})};v.displayName=p;var y=l.forwardRef((e,t)=>{let{__scopeAlertDialog:a,...l}=e,n=x(a);return(0,r.jsx)(d.l9,{...n,...l,ref:t})});y.displayName="AlertDialogTrigger";var b=e=>{let{__scopeAlertDialog:t,...a}=e,l=x(t);return(0,r.jsx)(d.ZL,{...l,...a})};b.displayName="AlertDialogPortal";var N=l.forwardRef((e,t)=>{let{__scopeAlertDialog:a,...l}=e,n=x(a);return(0,r.jsx)(d.hJ,{...n,...l,ref:t})});N.displayName="AlertDialogOverlay";var j="AlertDialogContent",[w,A]=h(j),D=l.forwardRef((e,t)=>{let{__scopeAlertDialog:a,children:n,...s}=e,o=x(a),u=l.useRef(null),m=(0,i.s)(t,u),p=l.useRef(null);return(0,r.jsx)(d.G$,{contentName:j,titleName:M,docsSlug:"alert-dialog",children:(0,r.jsx)(w,{scope:a,cancelRef:p,children:(0,r.jsxs)(d.UC,{role:"alertdialog",...o,...s,ref:m,onOpenAutoFocus:(0,c.m)(s.onOpenAutoFocus,e=>{var t;e.preventDefault(),null===(t=p.current)||void 0===t||t.focus({preventScroll:!0})}),onPointerDownOutside:e=>e.preventDefault(),onInteractOutside:e=>e.preventDefault(),children:[(0,r.jsx)(f,{children:n}),(0,r.jsx)(S,{contentRef:u})]})})})});D.displayName=j;var M="AlertDialogTitle",R=l.forwardRef((e,t)=>{let{__scopeAlertDialog:a,...l}=e,n=x(a);return(0,r.jsx)(d.hE,{...n,...l,ref:t})});R.displayName=M;var C="AlertDialogDescription",P=l.forwardRef((e,t)=>{let{__scopeAlertDialog:a,...l}=e,n=x(a);return(0,r.jsx)(d.VY,{...n,...l,ref:t})});P.displayName=C;var E=l.forwardRef((e,t)=>{let{__scopeAlertDialog:a,...l}=e,n=x(a);return(0,r.jsx)(d.bm,{...n,...l,ref:t})});E.displayName="AlertDialogAction";var k="AlertDialogCancel",O=l.forwardRef((e,t)=>{let{__scopeAlertDialog:a,...l}=e,{cancelRef:n}=A(k,a),s=x(a),o=(0,i.s)(t,n);return(0,r.jsx)(d.bm,{...s,...l,ref:o})});O.displayName=k;var S=e=>{let{contentRef:t}=e,a="`".concat(j,"` requires a description for the component to be accessible for screen reader users.\n\nYou can add a description to the `").concat(j,"` by passing a `").concat(C,"` component as a child, which also benefits sighted users by adding visible context to the dialog.\n\nAlternatively, you can use your own component as a description by assigning it an `id` and passing the same value to the `aria-describedby` prop in `").concat(j,"`. If the description is confusing or duplicative for sighted users, you can use the `@radix-ui/react-visually-hidden` primitive as a wrapper around your description component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/alert-dialog");return l.useEffect(()=>{var e;document.getElementById(null===(e=t.current)||void 0===e?void 0:e.getAttribute("aria-describedby"))||console.warn(a)},[a,t]),null},F=a(9602),I=a(4085);let z=l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,r.jsx)(N,{className:(0,F.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...l,ref:t})});z.displayName=N.displayName;let L=l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,r.jsxs)(b,{children:[(0,r.jsx)(z,{}),(0,r.jsx)(D,{ref:t,className:(0,F.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...l})]})});L.displayName=D.displayName;let _=e=>{let{className:t,...a}=e;return(0,r.jsx)("div",{className:(0,F.cn)("flex flex-col space-y-2 text-center sm:text-left",t),...a})};_.displayName="AlertDialogHeader";let V=e=>{let{className:t,...a}=e;return(0,r.jsx)("div",{className:(0,F.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...a})};V.displayName="AlertDialogFooter";let $=l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,r.jsx)(R,{ref:t,className:(0,F.cn)("text-lg font-semibold",a),...l})});$.displayName=R.displayName;let B=l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,r.jsx)(P,{ref:t,className:(0,F.cn)("text-sm text-muted-foreground",a),...l})});B.displayName=P.displayName;let T=l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,r.jsx)(E,{ref:t,className:(0,F.cn)((0,I.r)(),a),...l})});T.displayName=E.displayName;let W=l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,r.jsx)(O,{ref:t,className:(0,F.cn)((0,I.r)({variant:"outline"}),"mt-2 sm:mt-0",a),...l})});function X(){var e;let t=async()=>{if(localStorage.clear(),window.caches){let e=await caches.keys();await Promise.all(e.map(e=>caches.delete(e)))}window.location.reload()},a=(0,s.P)(e=>e.insets);return(0,r.jsxs)("div",{className:"bg-gray-50 p-4 h-screen overflow-y-auto",style:{marginTop:null!==(e=null==a?void 0:a.top)&&void 0!==e?e:0},children:[(0,r.jsx)("div",{className:"flex mb-6 items-center",children:(0,r.jsx)("h1",{className:"text-3xl font-bold",children:"Settings"})}),(0,r.jsx)(q,{}),(0,r.jsxs)("div",{className:"mt-6",children:[(0,r.jsx)("div",{className:"text-base text-gray-500 ml-4 mb-1",children:"Developer"}),(0,r.jsxs)(v,{children:[(0,r.jsx)(y,{className:"bg-white rounded-lg  p-4 mb-4 text-lg w-full text-red-600 text-left font-semibold",children:"Clear Local Data"}),(0,r.jsxs)(L,{className:"w-[70vw] rounded-lg",children:[(0,r.jsxs)(_,{children:[(0,r.jsx)($,{children:"Clear Local Storage and Cache"}),(0,r.jsx)(B,{className:"text-left",children:"Are you sure you want to clear your local storage and cache? This action cannot be undone."})]}),(0,r.jsxs)(V,{children:[(0,r.jsx)(W,{children:"Cancel"}),(0,r.jsx)(T,{onClick:t,className:"bg-red-600 font-bold",children:"Clear"})]})]})]})]})]})}function q(){let e=(0,s.P)(e=>e.setUnit),[t,a]=(0,l.useState)(null===localStorage.getItem("unit")||"metric"===localStorage.getItem("unit"));return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"text-base text-gray-500 ml-4 mb-1",children:"Unit"}),(0,r.jsx)("div",{className:"flex w-full px-6 py-11 bg-white rounded-t-lg items-center",children:(0,r.jsx)(n.A,{routeName:"E",progress:1.1})}),(0,r.jsxs)("div",{className:"w-full h-12 relative cursor-pointer select-none",onClick:()=>{let r=t?"imperial":"metric";e(r),a(!t),localStorage.setItem("unit",r)},children:[(0,r.jsx)("div",{className:"absolute inset-0 bg-white rounded-b-lg shadow-sm"}),(0,r.jsx)("div",{className:"absolute top-0 left-0 h-full w-1/2 bg-gray-900 rounded-lg transition-transform duration-300",style:{transform:t?"translateX(0%)":"translateX(100%)"}}),(0,r.jsxs)("div",{className:"relative flex justify-around items-center h-full",children:[(0,r.jsx)("span",{className:"z-10 text-lg font-bold ".concat(t?"text-white":"text-gray-900"),children:"Metric"}),(0,r.jsx)("span",{className:"z-10 text-lg font-semibold ".concat(t?"text-gray-900":"text-white"),children:"Imperial"})]})]})]})}W.displayName=O.displayName},4461:(e,t,a)=>{a.d(t,{A:()=>c});var r=a(5155),l=a(9265),n=a(2115),s=a(6688),o=a(2364),i=a(2434),d=a(4389);function c(e){var t;let{routeName:a,progress:c,className:u}=e,f=(0,s.P)(e=>e.unit),m=c||function(e){let t=(0,s.P)(),[a,r]=(0,n.useState)(null);return(0,n.useEffect)(()=>{let a=function(e){let t=Object.values(o.Gb).find(t=>(0,i.A)(t.name,e));return t?{latitude:t.latitude,longitude:t.longitude}:(console.error("Stop ".concat(e," not found")),null)}(t.currentLocation);if(a){let l=function(e,a,r){let l=t.shuttleData;if(!l||Object.prototype.hasOwnProperty.call(l,"undefined"))return null;let n=1/0,s=null;return Object.entries(l).forEach(t=>{let[l,o]=t;if(o.route.toLowerCase()===e.toLowerCase()){let e=(0,d.$)(a,r,Number(o.latitude),Number(o.longitude));e<n&&(n=e,s={latitude:o.latitude,longitude:o.longitude})}}),s}("route "+e,a.latitude,a.longitude);l&&r(Number((0,d.$)(Number(l.latitude),Number(l.longitude),a.latitude,a.longitude)))}},[t.shuttleData,t.currentLocation,e]),a}(a),p=null===m?0:Math.min(100,Math.max(0,100*(1-Math.log1p(Math.max(0,Math.min(m,3)))/Math.log1p(3)))),h=Math.min(90,Math.max(15,p)),g=function(e,t){if(null===e)return null;if("imperial"===t){let t=.621371*e;if(t>1)return"".concat(t.toFixed(1)," mi");{let t=3280.84*e;return"".concat(t.toFixed(0)," ft")}}return e>1?"".concat(e.toFixed(1)," km"):"".concat((1e3*e).toFixed(0)," m")}(m,f);return(0,r.jsxs)("div",{className:"relative h-1 w-full rounded-full bg-gray-200 ".concat(u),children:[(0,r.jsx)("div",{className:"h-full rounded-full ".concat(null===(t=l._L[a])||void 0===t?void 0:t.bgColor," transition-all duration-1000"),style:{width:"".concat(p,"%")}}),(0,r.jsx)("div",{className:"absolute text-gray-500 text-sm whitespace-nowrap animate-pulse",style:{left:"".concat(h,"%"),transform:"translateX(-50%)",bottom:"100%",marginBottom:"4px"},children:null===g?"":"".concat(g)})]})}},4389:(e,t,a)=>{a.d(t,{$:()=>r});function r(e,t,a,r){let l=(a-e)*Math.PI/180,n=(r-t)*Math.PI/180,s=Math.sin(l/2)*Math.sin(l/2)+Math.cos(e*Math.PI/180)*Math.cos(a*Math.PI/180)*Math.sin(n/2)*Math.sin(n/2);return 2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s))*6371}},4085:(e,t,a)=>{a.d(t,{$:()=>d,r:()=>i});var r=a(5155),l=a(2115),n=a(4707),s=a(1027),o=a(9602);let i=(0,s.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),d=l.forwardRef((e,t)=>{let{className:a,variant:l,size:s,asChild:d=!1,...c}=e,u=d?n.DX:"button";return(0,r.jsx)(u,{className:(0,o.cn)(i({variant:l,size:s,className:a})),ref:t,...c})});d.displayName="Button"},9602:(e,t,a)=>{a.d(t,{cn:()=>n});var r=a(3463),l=a(9795);function n(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,l.QP)((0,r.$)(t))}}}]);